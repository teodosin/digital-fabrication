<!doctype html>
<html lang="en">
	<head>
		<meta charset="utf-8" />
		<link rel="icon" href="./favicon.png" />
		<meta name="viewport" content="width=device-width, initial-scale=1" />
		
		<link href="./_app/immutable/assets/0.CWYO6-vi.css" rel="stylesheet">
		<link href="./_app/immutable/assets/3.D2JvoFPL.css" rel="stylesheet">
		<link rel="modulepreload" href="./_app/immutable/entry/start.DbnBjFkq.js">
		<link rel="modulepreload" href="./_app/immutable/chunks/entry.C-V3oeAm.js">
		<link rel="modulepreload" href="./_app/immutable/chunks/scheduler.VDxU6aNK.js">
		<link rel="modulepreload" href="./_app/immutable/chunks/paths.eJWwnG8S.js">
		<link rel="modulepreload" href="./_app/immutable/entry/app.mlaaPPog.js">
		<link rel="modulepreload" href="./_app/immutable/chunks/preload-helper.D6kgxu3v.js">
		<link rel="modulepreload" href="./_app/immutable/chunks/index.CMIy7L5C.js">
		<link rel="modulepreload" href="./_app/immutable/nodes/0.BR62AGXS.js">
		<link rel="modulepreload" href="./_app/immutable/nodes/3.NSUN2PyV.js">
	</head>
	<body data-sveltekit-preload-data="hover">
		<div style="display: contents">   <nav class="nav svelte-1kc7d4u" data-svelte-h="svelte-1x1gium"><a class="nav-button svelte-1kc7d4u" href="./">Home</a></nav>     <img class="cover-banner svelte-12zqzs0" src="fab11/01.png" style="transform: translate3d(0, 0px, 0);"> <div class="post-header  svelte-12zqzs0"><h1>Application Programming</h1> <p class="date svelte-12zqzs0">Published: 2024-05-05</p></div> <div class="centered-container svelte-12zqzs0"><div class="toc svelte-12zqzs0"></div> <article class="post svelte-12zqzs0"><h3 data-svelte-h="svelte-sbwzft">Table of Contents</h3> <ul data-svelte-h="svelte-1xkeb33"><li><a href="#assignment">Assignment</a></li> <li><a href="#group">Group</a></li> <li><a href="#concept">Concept</a></li> <li><a href="#code">Code</a><ul><li><a href="#esp32">ESP32</a></li> <li><a href="#pc">PC</a></li></ul></li></ul> <h1 data-svelte-h="svelte-g9rspt">Assignment</h1> <pre class="language-undefined"><!-- HTML_TAG_START --><code class="language-undefined">Group assignment
* Join one of the introduction sessions.
* Elect a group leader.
* Document hands-on exercise with available interface examples.
* Optionally discuss an additional example that you have used in the past or wish to explore.

Individual assignment
* Link to the group assignment page.
* Describe what you learned from the group assignment on your documentation page briefly.
* Write an application that interfaces a user with an input and/or output device that you made.
* Include a hero video and source files of the application in your documentation.</code><!-- HTML_TAG_END --></pre> <h1 data-svelte-h="svelte-kxioer">Group</h1> <p data-svelte-h="svelte-i7hnr2">Group assignment this week was handled by Miro Keimiöniemi (link pending)</p> <h1 data-svelte-h="svelte-z7urna">Concept</h1> <p data-svelte-h="svelte-1vuoxka">The agenda for this week was to set up the initial working version of the debug app for my final project, <a href="fablab-00">the gloves</a>.</p> <p data-svelte-h="svelte-lv9v89">I chose the Rust based <a href="https://bevyengine.org/" rel="nofollow">Bevy game engine</a> for this project. Using it feels more like using a framework than an engine, really, since there’s no standalone editor or other executable that you run to make things. Instead, you add it as a dependency like any other crate in your project. If using a game engine sounds like overkill for a simple app, you can pick and choose only the features your project needs, making it potentially quite lightweight.</p> <p data-svelte-h="svelte-ftk1zm">To use this engine, you of course would need Rust installed on your machine. I’m using the <a href="https://rustup.rs/" rel="nofollow">Rustup</a> tool to manage Rust installations.</p> <p data-svelte-h="svelte-mtmm8d">Then you would be best served by following along with the <a href="https://bevyengine.org/learn/quick-start/getting-started/" rel="nofollow">Bevy book</a>. Create a rust project, add Bevy as a dependency, and then add Bevy’s recommended optimisations to the cargo.toml file. It’s all explained in the book.</p> <p data-svelte-h="svelte-cyysea">I’ve used Bevy before, but never anything async or with networking. Those aspects would be new to me and useful for my future projects using the engine.</p> <p data-svelte-h="svelte-ge8jc">For the code going into the ESP32, I first thought I’d be following the tutorials mentioned in the <a href="fablab-12">previous assignment post</a>. The ESP32 was going to be here, at first, an <a href="https://dev.to/apollolabsbin/embedded-rust-bluetooth-on-esp-ble-server-1no8" rel="nofollow">unsecure BLE server.</a>. There were however some compiler issues that I was unable to solve at first. So in the interest of time I opted for <a href="https://github.com/bjoernQ/bleps" rel="nofollow">Bleps</a>, which I did manage to get working sooner.</p> <p data-svelte-h="svelte-1gyrlwi">For the code going into the Bevy app, I need two things. First, a library to handle connecting to bluetooth devices. The one I found and got working was <a href="https://github.com/deviceplug/btleplug" rel="nofollow">btleplug</a>. Since that crate seemed to heavily use async, I also needed <a href="https://github.com/EkardNT/bevy-tokio-tasks/tree/master" rel="nofollow">bevy-tokio-tasks</a> to provide better async support for Bevy. That crate was somewhat old but it was relatively trivial to update to work with the latest version of Bevy. Having a CC0 license is pretty nice.</p> <h1 data-svelte-h="svelte-1ae1dy5">Code</h1> <p data-svelte-h="svelte-al9e1e">There was a lot of frustration while getting these things to work. I didn’t document all that trial and error, but I’ll try to point out the most critical parts while going over the code.</p> <h2 data-svelte-h="svelte-1b4cfnx">ESP32</h2> <img src="fab13/01.png" alt="hooplooptoops"> <h2 data-svelte-h="svelte-f9nysn">PC</h2></article> </div> 
			
			<script>
				{
					__sveltekit_1e7wpzo = {
						base: new URL(".", location).pathname.slice(0, -1),
						assets: "/digital-fabrication"
					};

					const element = document.currentScript.parentElement;

					const data = [{"type":"data","data":null,"uses":{}},{"type":"data","data":null,"uses":{}}];

					Promise.all([
						import("./_app/immutable/entry/start.DbnBjFkq.js"),
						import("./_app/immutable/entry/app.mlaaPPog.js")
					]).then(([kit, app]) => {
						kit.start(app, element, {
							node_ids: [0, 3],
							data,
							form: null,
							error: null
						});
					});
				}
			</script>
		</div>
	</body>
</html>
